@font-face {
    font-family: 'CyberGlitch';
    src: url('../glitch.otf') format('opentype');
}

@font-face {
    font-family: 'Kaiso';
    src: url('../kaiso.otf') format('opentype');
}

/* 基本設定 */
body {
    font-family: 'Helvetica Neue', Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f4f4f4;
    color: #333;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    text-align: center;
}

.screen {
    width: 90%;
    max-width: 400px;
    background: white;
    padding: 2rem;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    /* アニメーション用（ふわっと表示） */
    animation: fadeIn 0.5s ease;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* 重要：これで画面を消します */
.hidden {
    display: none !important;
}

/* タイトル・テキスト */
.title {
    font-size: 2rem;
    margin-bottom: 0.5rem;
    color: #4a90e2;
    font-family: 'CyberGlitch', sans-serif;
}

.description {
    font-size: 0.9rem;
    color: #666;
    margin-bottom: 1rem;
    font-family: 'Kaiso', sans-serif;
}

/* 入力フォーム */
.input-group {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

input[type="text"] {
    padding: 12px;
    font-size: 1rem;
    border: 2px solid #ddd;
    border-radius: 8px;
    width: 100%;
    box-sizing: border-box;
    font-family: 'Kaiso', sans-serif;
}

/* キャラクター */
.character-area {
    padding: 2rem 0;
}

.character-display {
    max-width: 80%;
    height: auto;
    margin: 0 auto;
    display: block;
    border-radius: 10px;
}

/* 質問テキスト */
#question-text {
    font-size: 1.4rem;
    /* Slightly larger */
    line-height: 1.5;
    font-family: 'CyberGlitch', sans-serif;
    font-weight: bold;
    /* min-height: 3em; Removed as per overlay layout requirement */
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0;
    /* Clear default paragraph margin */
}

.game-visual-container {
    position: relative;
    width: 100%;
    margin-bottom: 1rem;
}

.question-area {
    position: absolute;
    bottom: 5%;
    left: 5%;
    width: 90%;
    background-color: rgba(255, 255, 255, 0.85);
    padding: 1rem;
    border-radius: 12px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    text-align: center;
    font-weight: bold;
    z-index: 10;
    box-sizing: border-box;
}

/* ボタン共通 */
.btn {
    padding: 15px;
    font-size: 1.1rem;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: opacity 0.2s;
    width: 100%;
    font-family: 'Kaiso', sans-serif;
}

.btn:active {
    opacity: 0.7;
}

.primary-btn {
    background-color: #4a90e2;
    color: white;
    font-weight: bold;
}

.answer-btn {
    background-color: #eee;
    color: #333;
    margin-bottom: 10px;
}

.secondary-btn {
    background-color: #888;
    color: white;
}

/* 結果表示 */
.result-display {
    font-size: 2.5rem;
    font-weight: bold;
    color: #e74c3c;
    margin: 1rem 0;
    word-break: break-all;
    font-family: 'CyberGlitch', sans-serif;
}

/* =========================================
   追加：結果発表のアニメーション
   ========================================= */

/* アニメーション適用前の初期状態（見えない状態） */
.invisible {
    opacity: 0;
    visibility: hidden;
}

.result-title,
.result-label {
    font-family: 'Kaiso', sans-serif;
}

/* 飛び出してくるアニメーションクラス */
.pop-in-animation {
    visibility: visible;
    animation: zoomIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
}

/* 奥(scale 0)から手前(scale 1)へ */
@keyframes zoomIn {
    0% {
        opacity: 0;
        transform: scale(0);
        /* 奥にいる（見えないくらい小さい） */
    }

    60% {
        opacity: 1;
        transform: scale(1.1);
        /* 勢い余ってちょっと手前まで来る */
    }

    100% {
        transform: scale(1);
        /* 定位置に戻る */
    }
}

/* =========================================
   追加：メニュー画面のサイバーパンクデザイン化
   ========================================= */

/* 1. 全体の背景を暗くし、電脳空間風にする */
body {
    /* 暗い背景色（ネイビーブラック系） */
    background-color: #0a0a12;
    /* もし背景画像があるなら、以下のコメントを外してパスを指定 */
    /* background-image: url('../bg_cyber.jpg'); */
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    color: #e0e0ff;
    /* デフォルトの文字色を青白く */
}

/* =========================================
   修正：すべての画面をサイバーパンクデザイン化
   ========================================= */

/* 変更前： #menu-screen.screen {  */
/* 変更後： すべての画面パネルに適用 */
.screen {
    /* 半透明の黒背景 */
    background: rgba(20, 20, 35, 0.85);
    /* ネオンブルーの枠線と発光エフェクト */
    border: 2px solid #4a90e2;
    box-shadow: 0 0 20px rgba(74, 144, 226, 0.5), inset 0 0 10px rgba(74, 144, 226, 0.2);
    /* 角丸 */
    border-radius: 15px;
    /* アニメーション */
    animation: cyberFadeIn 0.8s ease-out;
    /* デフォルトの文字色を明るく */
    color: #e0e0ff;
}

/* パネルが浮かび上がるアニメーション定義 */
@keyframes cyberFadeIn {
    from {
        opacity: 0;
        transform: translateY(30px) scale(0.95);
    }

    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* 3. タイトルと説明文の色をネオンカラーに */
.title {
    color: #4a90e2;
    /* 鮮やかなネオンブルー */
    text-shadow: 0 0 10px rgba(74, 144, 226, 0.8);
    /* 発光させる */
}

.description {
    color: #a0a0c0;
    /* 少し落ち着いた青灰色 */
    font-family: 'Kaiso', sans-serif;
    /* 廻想体フォントを適用 */
}

/* 4. 入力フォームをサイバー風に変更 */
input[type="text"] {
    background-color: rgba(0, 0, 0, 0.5);
    /* 暗い背景 */
    border: 1px solid #4a90e2;
    /* 青い枠線 */
    color: #ffffff;
    /* 文字は白 */
    font-family: 'Kaiso', sans-serif;
    transition: all 0.3s ease;
}

/* 入力時のフォーカス効果（強く発光） */
input[type="text"]:focus {
    outline: none;
    border-color: #00f7ff;
    /* 水色に変化 */
    box-shadow: 0 0 15px rgba(0, 247, 255, 0.7);
    background-color: rgba(0, 20, 40, 0.8);
}

/* プレースホルダー（入力前の薄い文字）の色 */
input[type="text"]::placeholder {
    color: #667799;
}

/* 5. ボタンをより強力なネオンボタンに変更 */
.primary-btn {
    background: linear-gradient(45deg, #4a90e2, #00f7ff);
    /* グラデーション */
    border: none;
    box-shadow: 0 0 15px rgba(74, 144, 226, 0.6);
    font-family: 'Kaiso', sans-serif;
    font-weight: bold;
    letter-spacing: 1px;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

/* ボタンホバー時の効果（さらに強く光る） */
.primary-btn:hover {
    transform: scale(1.05);
    /* 少し大きくなる */
    box-shadow: 0 0 30px rgba(0, 247, 255, 0.8);
}

/* 追加：質問テキストボックスのデザイン調整 */
.question-area {
    /* 背景を半透明の暗い色に変更（!importantで強制上書き） */
    background-color: rgba(0, 0, 0, 0.7) !important;
    /* 薄いネオンの枠線を追加 */
    border: 1px solid rgba(74, 144, 226, 0.6);
    box-shadow: 0 0 15px rgba(74, 144, 226, 0.3);
    /* 文字色を白くハッキリさせる */
    color: #ffffff;
}

/* 追加：結果発表の文字をよりサイバーに */
#final-result {
    /* ネオンピンクとサイアンのグリッチ風配色 */
    color: #ff00ff;
    text-shadow: -2px 0px 0px #00ffff, 2px 0px 0px #ff00ff;
}

/* =========================================
   追加：YES/NOボタンのサイバーパンク化
   ========================================= */

/* 1. ボタン共通設定（暗い背景にする） */
.answer-btn {
    background-color: rgba(0, 0, 0, 0.6) !important;
    /* 半透明の黒 */
    color: #ffffff !important;
    border: 2px solid #555;
    /* 一旦グレーの枠線 */
    font-family: 'Kaiso', sans-serif;
    font-size: 1.2rem;
    letter-spacing: 2px;
    margin-bottom: 15px;
    /* ボタン同士の間隔 */
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

/* 2. YESボタン（シアン・青系で発光） */
.answer-btn[data-answer="yes"] {
    border-color: #00f7ff;
    /* ネオンシアンの枠線 */
    box-shadow: 0 0 10px rgba(0, 247, 255, 0.3);
    text-shadow: 0 0 8px rgba(0, 247, 255, 0.8);
}

.answer-btn[data-answer="yes"]:hover {
    background-color: rgba(0, 247, 255, 0.2) !important;
    box-shadow: 0 0 25px rgba(0, 247, 255, 0.8);
    /* 強く光る */
    transform: scale(1.02);
    /* 少し大きくなる */
}

/* 3. NOボタン（マゼンタ・赤系で発光） */
.answer-btn[data-answer="no"] {
    border-color: #ff0055;
    /* ネオンピンクの枠線 */
    box-shadow: 0 0 10px rgba(255, 0, 85, 0.3);
    text-shadow: 0 0 8px rgba(255, 0, 85, 0.8);
}

.answer-btn[data-answer="no"]:hover {
    background-color: rgba(255, 0, 85, 0.2) !important;
    box-shadow: 0 0 25px rgba(255, 0, 85, 0.8);
    /* 強く光る */
    transform: scale(1.02);
}

/* =========================================
   スマホ最適化 (幅600px以下)
   ========================================= */
@media screen and (max-width: 600px) {

    /* 全体の余白調整 */
    .screen {
        width: 95%;
        /* 画面いっぱい使う */
        padding: 1rem;
        /* 内側の余白を少し減らす */
    }

    /* キャラクター画像の調整 */
    .character-display {
        max-width: 100%;
        /* 枠からはみ出さない */
        height: auto;
    }

    /* 質問ウィンドウ（重ね合わせ）の調整 */
    .question-area {
        width: 94%;
        /* ほぼ全幅 */
        left: 3%;
        /* 左右中央寄せ */
        bottom: 10px;
        /* 画像の下端ギリギリに配置 */
        padding: 0.8rem;
    }

    /* テキストサイズの調整 */
    #question-text {
        font-size: 1.1rem;
        /* 少し小さくしてはみ出し防止 */
    }

    .title {
        font-size: 1.8rem;
        /* タイトルも少し控えめに */
    }

    /* ボタンを押しやすく */
    .btn {
        padding: 18px;
        /* タップ領域を広げる */
    }
}